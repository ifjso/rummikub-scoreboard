(this["webpackJsonprummikub-scoreboard"]=this["webpackJsonprummikub-scoreboard"]||[]).push([[0],{150:function(n,e,t){n.exports=t(302)},155:function(n,e,t){},301:function(n,e,t){},302:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),c=t(119),u=t.n(c),o=t(26),i=(t(155),t(27)),l=t(1),s=t(2),f=t(307),b=t(305);function m(){var n=Object(l.a)(["\n  && {\n    border: none;\n    box-shadow: none;\n  }\n"]);return m=function(){return n},n}var v=Object(s.b)(f.a)(m()),d=function(){return a.a.createElement(v,{borderless:!0,fixed:"top"},a.a.createElement(b.a,{text:!0},a.a.createElement(f.a.Item,{as:o.b,to:"/",name:"\uc810\uc218\ud310"}),a.a.createElement(f.a.Item,{as:o.b,to:"/histories",name:"\ud788\uc2a4\ud1a0\ub9ac"})))},p=t(59);function h(){var n=Object(l.a)(["\n  padding-left: 1rem;\n  padding-right: 1rem;\n  width: 80vw;\n  margin: 0 auto;\n  display: flex;\n"]);return h=function(){return n},n}var w=s.b.div(h()),g=function(n){var e=n.children,t=Object(p.a)(n,["children"]);return a.a.createElement(w,t,e)},j=t(28),O=t.n(j),E=t(45),x=t(35);function k(){var n=Object(l.a)(["\n  ","\n"]);return k=function(){return n},n}function y(){var n=Object(l.a)(["\n  ","\n"]);return y=function(){return n},n}function z(){var n=Object(l.a)(["\n  width: 50%;\n  border: none;\n  outline: none;\n  font-size: 10vw;\n  padding: 1.5vw;\n  line-height: 7vw;\n  cursor: pointer;\n\n  background: white;\n  &:hover {\n    background: #f1f1f1;\n  }\n  &:active {\n    background: #cccccc;\n    color: #555555;\n  }\n"]);return z=function(){return n},n}var S=Object(s.a)(z()),M=Object(s.b)(o.b)(y(),S),Y=s.b.button(k(),S),C=function(n){var e=n.to,t=Object(p.a)(n,["to"]);return e?a.a.createElement(M,Object.assign({to:e},t)):a.a.createElement(Y,t)},I=t(134),P=t.n(I).a.create();P.defaults.baseURL="https://rummikub-scoreboard.herokuapp.com";var B=P,D=function(n){return B.get("/api/scores/".concat(n))},H=function(n){var e=n.owner,t=n.score;return B.patch("/api/scores/".concat(e),{score:t})};function J(){var n=Object(l.a)(["\n  margin: 0 auto;\n  padding: 1vw;\n  font-size: 6vw;\n  line-height: 1em;\n"]);return J=function(){return n},n}function R(){var n=Object(l.a)(["\n  width: 28%;\n"]);return R=function(){return n},n}function W(){var n=Object(l.a)(["\n      flex-direction: row-reverse;\n    "]);return W=function(){return n},n}function A(){var n=Object(l.a)(["\n  width: 100%;\n  height: 24%;\n  display: flex;\n\n  ","\n"]);return A=function(){return n},n}function F(){var n=Object(l.a)(["\n  width: 34vw;\n  height: 36vw;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  flex-flow: row wrap;\n\n  h1 {\n    margin: 0;\n    height: 50%;\n    width: 100%;\n    text-align: center;\n    font-size: 18vw;\n    line-height: 19vw;\n  }\n"]);return F=function(){return n},n}var L=s.b.div(F()),N=s.b.div(A(),(function(n){return n.reversed&&Object(s.a)(W())})),U=s.b.div(R()),$=s.b.span(J()),_=function(n){var e=n.reversed,t=n.user,r=t.name,c=t.picture;return a.a.createElement(N,{reversed:e},a.a.createElement(U,{reversed:e,picture:c}),a.a.createElement($,null,r))},q=function(n){var e=n.reversed,t=void 0!==e&&e,c=n.owner,u=Object(r.useState)(0),o=Object(x.a)(u,2),i=o[0],l=o[1],s=Object(r.useState)({}),f=Object(x.a)(s,2),b=f[0],m=f[1],v=Object(r.useRef)(!1);Object(r.useEffect)((function(){return function(){var n=Object(E.a)(O.a.mark((function n(){var e,t;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,D(c);case 2:e=n.sent,t=e.data,v.current||(m(t.user),l(t.score));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()(),function(){v.current=!0}}),[c]);var d=Object(r.useCallback)(function(){var n=Object(E.a)(O.a.mark((function n(e){var t;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=i+e,n.next=3,H({owner:c,score:t});case 3:v.current||l(t);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[c,i]);return a.a.createElement(L,null,a.a.createElement(_,{reversed:t,user:b}),a.a.createElement("h1",null,i),a.a.createElement(C,{onClick:function(){return d(-1)}},"-"),a.a.createElement(C,{onClick:function(){return d(1)}},"+"))};function G(){var n=Object(l.a)(["\n  width: 86vw;\n  height: 40vw;\n  padding: 2vw;\n  align-items: center;\n  justify-content: space-between;\n  > span {\n    margin: 0;\n    font-size: 12vw;\n  }\n"]);return G=function(){return n},n}function K(){var n=Object(l.a)(["\n  width: 100vw;\n  height: 100vh;\n  background: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n"]);return K=function(){return n},n}var Q=s.b.div(K()),T=Object(s.b)(g)(G()),V=function(){return a.a.createElement(Q,null,a.a.createElement(T,null,a.a.createElement(q,{reversed:!1,owner:1}),a.a.createElement("span",null,a.a.createElement("b",null,":")),a.a.createElement(q,{reversed:!0,owner:2})))},X=function(){return a.a.createElement(V,null)},Z=function(){return a.a.createElement(X,null)},nn=t(135),en=t.n(nn),tn=t(306),rn=t(136),an=t.n(rn),cn=t(137),un=t.n(cn),on=function(n){var e=n.page,t=n.perPage,r=un.a.stringify({page:e,perPage:t});return B.get("/api/histories?".concat(r))};function ln(){var n=Object(l.a)(["\n  line-height: 0.8em;\n"]);return ln=function(){return n},n}function sn(){var n=Object(l.a)(["\n      background-color: #fff6f6;\n      color: #9f3a38;\n      box-shadow: 0 0 0 2px #e0b4b4 inset, 0 0 0 0 transparent;\n    "]);return sn=function(){return n},n}function fn(){var n=Object(l.a)(["\n  margin-bottom: 2vh;\n  padding: 1.5rem;\n  font-size: 1.1em;\n  border-radius: 1rem;\n  background-color: #fcfff5;\n  color: #2c662d;\n  box-shadow: 0 0 0 2px #a3c293 inset, 0 0 0 0 transparent;\n  ","\n"]);return fn=function(){return n},n}function bn(){var n=Object(l.a)(["\n  width: 100vw;\n"]);return bn=function(){return n},n}function mn(){var n=Object(l.a)(["\n  display: flex;\n  width: 100vw;\n  padding: 4rem 2rem;\n  align-content: center;\n  justify-content: center;\n  flex-wrap: wrap;\n"]);return mn=function(){return n},n}var vn=Object(s.b)(g)(mn()),dn=Object(s.b)(en.a)(bn()),pn=s.b.div(fn(),(function(n){return n.value<0&&Object(s.a)(sn())})),hn=s.b.p(ln()),wn=function(){var n=Object(r.useState)([]),e=Object(x.a)(n,2),t=e[0],c=e[1],u=Object(r.useState)(!0),o=Object(x.a)(u,2),i=o[0],l=o[1],s=function(){var n=Object(E.a)(O.a.mark((function n(e){var r,a;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,on({page:e});case 2:r=n.sent,a=r.data,c(t.concat(a.histories)),l(a.hasNextPage);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return a.a.createElement(vn,null,a.a.createElement(dn,{pageStart:0,loadMore:s,hasMore:i,loader:a.a.createElement(tn.a,{active:!0,inline:"centered",size:"small"})},t.map((function(n){return a.a.createElement(pn,{key:n._id,value:n.value},a.a.createElement(hn,null,an()(n.createdAt).format("YYYY\ub144 MM\uc6d4 DD\uc77c HH\uc2dcmm\ubd84ss\ucd08")),a.a.createElement(hn,null,n.name),a.a.createElement(hn,null,n.value))}))))},gn=function(){return a.a.createElement(wn,null)},jn=function(){return a.a.createElement(gn,null)},On=(t(301),function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(d,null),a.a.createElement(i.a,{component:Z,path:"/",exact:!0}),a.a.createElement(i.a,{component:jn,path:"/histories"}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(a.a.createElement(o.a,{basename:"/rummikub-scoreboard"},a.a.createElement(On,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))}},[[150,1,2]]]);
//# sourceMappingURL=main.1f0cbab5.chunk.js.map