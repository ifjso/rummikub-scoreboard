(this["webpackJsonprummikub-scoreboard"]=this["webpackJsonprummikub-scoreboard"]||[]).push([[0],{153:function(e,n,t){e.exports=t(307)},158:function(e,n,t){},306:function(e,n,t){},307:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(121),i=t.n(c),o=t(26),u=(t(158),t(27)),l=t(31),s=t(311),f=t(312),m=Object(u.e)((function(e){var n=e.location.pathname,t=Object(r.useState)(n),c=Object(l.a)(t,2),i=c[0],u=c[1],m=Object(r.useCallback)((function(e,n){var t=n.to;return u(t)}),[]);return a.a.createElement(s.a,{fixed:"top",size:"massive",icon:!0,borderless:!0,inverted:!0},a.a.createElement(s.a.Item,{as:o.b,to:"/",active:"/"===i,onClick:m},a.a.createElement("img",{src:"logo192.png",alt:"\ud648",style:{fontSize:"0.8rem"}})),a.a.createElement(s.a.Item,{as:o.b,to:"/histories",active:"/histories"===i,onClick:m},a.a.createElement(f.a,{name:"history"})))})),v=t(1),b=t(2),d=t(57);function h(){var e=Object(v.a)(["\n  padding-left: 1rem;\n  padding-right: 1rem;\n  width: 80vw;\n  margin: 0 auto;\n  display: flex;\n"]);return h=function(){return e},e}var p=b.b.div(h()),g=function(e){var n=e.children,t=Object(d.a)(e,["children"]);return a.a.createElement(p,t,n)},w=t(28),j=t.n(w),E=t(45);function O(){var e=Object(v.a)(["\n  ","\n"]);return O=function(){return e},e}function x(){var e=Object(v.a)(["\n  ","\n"]);return x=function(){return e},e}function y(){var e=Object(v.a)(["\n  width: 50%;\n  border: none;\n  outline: none;\n  font-size: 10vw;\n  padding: 1.5vw;\n  line-height: 7vw;\n  background: #121212;\n  cursor: pointer;\n"]);return y=function(){return e},e}var k=Object(b.a)(y()),z=Object(b.b)(o.b)(x(),k),C=b.b.button(O(),k),P=function(e){var n=e.to,t=Object(d.a)(e,["to"]);return n?a.a.createElement(z,Object.assign({to:n},t)):a.a.createElement(C,t)},S=t(136),N=t.n(S).a.create();N.defaults.baseURL="https://rummikub-scoreboard.herokuapp.com";var I=N,R=function(e){return I.get("/api/scores/".concat(e))},B=function(e){var n=e.owner,t=e.score;return I.patch("/api/scores/".concat(n),{score:t})};function J(){var e=Object(v.a)(["\n  margin: 0 auto;\n  padding: 1vw;\n  font-size: 6vw;\n  line-height: 2em;\n"]);return J=function(){return e},e}function M(){var e=Object(v.a)(["\n  width: 28%;\n"]);return M=function(){return e},e}function W(){var e=Object(v.a)(["\n      flex-direction: row-reverse;\n    "]);return W=function(){return e},e}function A(){var e=Object(v.a)(["\n  width: 100%;\n  display: flex;\n\n  ","\n"]);return A=function(){return e},e}function F(){var e=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-flow: wrap;\n  padding-bottom: 5vh;\n"]);return F=function(){return e},e}function L(){var e=Object(v.a)(["\n  width: 26vw;\n  height: 100%;\n  display: flex;\n  color: white;\n  flex-direction: column;\n  align-content: space-between;\n  justify-content: center;\n  flex-flow: row wrap;\n\n  h1 {\n    margin: 0;\n    text-align: center;\n    font-size: 28vw;\n    line-height: 24vw;\n  }\n"]);return L=function(){return e},e}var U=b.b.div(L()),$=b.b.div(F()),_=b.b.div(A(),(function(e){return e.reversed&&Object(b.a)(W())})),q=b.b.div(M()),D=b.b.span(J()),G=function(e){var n=e.reversed,t=e.user,r=t.name,c=t.picture;return a.a.createElement(_,{reversed:n},a.a.createElement(q,{reversed:n,picture:c}),a.a.createElement(D,null,r))},H=function(e){var n=e.reversed,t=void 0!==n&&n,c=e.owner,i=Object(r.useState)(0),o=Object(l.a)(i,2),u=o[0],s=o[1],m=Object(r.useState)({}),v=Object(l.a)(m,2),b=v[0],d=v[1],h=Object(r.useRef)(!1);Object(r.useEffect)((function(){return function(){var e=Object(E.a)(j.a.mark((function e(){var n,t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(c);case 2:n=e.sent,t=n.data,h.current||(d(t.user),s(t.score));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){h.current=!0}}),[c]);var p=Object(r.useCallback)(function(){var e=Object(E.a)(j.a.mark((function e(n){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u+n,e.next=3,B({owner:c,score:t});case 3:h.current||s(t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[c,u]);return a.a.createElement(U,null,a.a.createElement(P,{onClick:function(){return p(1)}},a.a.createElement(f.a,{name:"plus",size:"small",color:"grey"})),a.a.createElement($,null,a.a.createElement(G,{reversed:t,user:b}),a.a.createElement("h1",null,u)),a.a.createElement(P,{onClick:function(){return p(-1)}},a.a.createElement(f.a,{name:"minus",size:"small",color:"grey"})))};function K(){var e=Object(v.a)(["\n  padding-top: 3vw;\n  font-weight: bold;\n  color: white;\n"]);return K=function(){return e},e}function Q(){var e=Object(v.a)(["\n  width: 86vw;\n  height: 90vw;\n  padding: 2vw;\n  align-items: center;\n  justify-content: space-between;\n  > span {\n    margin: 0;\n    font-size: 12vw;\n  }\n"]);return Q=function(){return e},e}function T(){var e=Object(v.a)(["\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n"]);return T=function(){return e},e}var V=b.b.div(T()),X=Object(b.b)(g)(Q()),Y=b.b.span(K()),Z=function(){return a.a.createElement(V,null,a.a.createElement(X,null,a.a.createElement(H,{reversed:!1,owner:1}),a.a.createElement(Y,null,":"),a.a.createElement(H,{reversed:!0,owner:2})))},ee=function(){return a.a.createElement(Z,null)},ne=function(){return a.a.createElement(ee,null)},te=t(137),re=t.n(te),ae=t(310),ce=t(138),ie=t.n(ce),oe=function(e){var n=e.page,t=e.perPage,r=ie.a.stringify({page:n,perPage:t});return I.get("/api/histories?".concat(r))},ue=t(139),le=t.n(ue),se=t(140),fe=t.n(se),me=t(141),ve=t.n(me),be=t(81),de=t.n(be);function he(){var e=Object(v.a)(["\n  display: flex;\n  align-items: flex-end;\n  flex: 3;\n  flex-flow: column;\n  color: grey;\n"]);return he=function(){return e},e}function pe(){var e=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n  flex: 1;\n"]);return pe=function(){return e},e}function ge(){var e=Object(v.a)(["\n  flex: 1;\n  line-height: 1.5em;\n  font-size: ",";\n  font-weight: ",";\n  color: ",";\n"]);return ge=function(){return e},e}function we(){var e=Object(v.a)(["\n  display: flex;\n  align-items: center;\n"]);return we=function(){return e},e}function je(){var e=Object(v.a)(["\n  color: grey;\n"]);return je=function(){return e},e}function Ee(){var e=Object(v.a)(["\n  margin-bottom: 2vh;\n  font-size: 1.1em;\n"]);return Ee=function(){return e},e}var Oe=ve()(fe.a),xe=["\ud83c\udf1d","\ud83c\udf89","\ud83c\udf88","\ud83c\udf61","\ud83c\udf1f"],ye=["\ud83c\udf2a","\ud83d\ude27","\u26c8","\ud83d\udc7b","\ud83d\udca9"],ke=b.b.div(Ee()),ze=b.b.div(je()),Ce=b.b.div(we()),Pe=b.b.span(ge(),(function(e){var n=e.size;return"".concat(void 0===n?1:n,"em")}),(function(e){return e.bold?"bold":"normal"}),(function(e){var n=e.color;return n?" ".concat(n):""})),Se=Object(b.b)(Pe)(pe()),Ne=b.b.div(he()),Ie=a.a.memo((function(e){var n=e.history;return a.a.createElement(ke,{value:n.value},a.a.createElement(ze,null,a.a.createElement(Pe,{size:"1.3",bold:!0},n.name)),a.a.createElement(Ce,null,a.a.createElement(Pe,{size:"3.5",bold:!0,color:n.value>0?"#5aff5d":"#ff3834"},n.value>0?"+".concat(n.value):n.value),a.a.createElement(Se,{role:"img","aria-label":"",size:"2.8"},n.value>0?xe[de()(xe.length-1)]:ye[de()(ye.length-1)]),a.a.createElement(Ne,null,a.a.createElement(Pe,{size:"0.85",bold:!0},"\uc6b4\ub3d9 3\uc77c \uc131\uacf5! \ubbfc\uc774\ub294 \ub531 \ud558\ub8e8\ud568"),a.a.createElement(Pe,{size:"0.85"},a.a.createElement(le.a,{date:n.createdAt,formatter:Oe})))))}));function Re(){var e=Object(v.a)(["\n  width: 100vw;\n"]);return Re=function(){return e},e}function Be(){var e=Object(v.a)(["\n  width: 100vw;\n  padding: 5rem 2rem;\n"]);return Be=function(){return e},e}var Je=Object(b.b)(g)(Be()),Me=Object(b.b)(re.a)(Re()),We=a.a.memo((function(){var e=Object(r.useState)({histories:[],hasNextPage:!0}),n=Object(l.a)(e,2),t=n[0],c=n[1],i=t.histories,o=t.hasNextPage,u=Object(r.useRef)(!1);Object(r.useEffect)((function(){return function(){u.current=!0}}),[]);var s=function(){var e=Object(E.a)(j.a.mark((function e(n){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe({page:n});case 2:r=e.sent,a=r.data,u.current||c({histories:t.histories.concat(a.histories),hasNextPage:a.hasNextPage});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return a.a.createElement(Je,null,a.a.createElement(Me,{pageStart:0,loadMore:s,hasMore:o,loader:a.a.createElement(ae.a,{key:"1",active:!0,inline:"centered",size:"small"})},i.map((function(e){return a.a.createElement(Ie,{key:e._id,history:e})}))))})),Ae=function(){return a.a.createElement(We,null)},Fe=function(){return a.a.createElement(Ae,null)},Le=(t(306),function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(m,null),a.a.createElement(u.a,{component:ne,path:"/",exact:!0}),a.a.createElement(u.a,{component:Fe,path:"/histories"}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(o.a,{basename:"/rummikub-scoreboard"},a.a.createElement(Le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[153,1,2]]]);
//# sourceMappingURL=main.4a8cdd21.chunk.js.map