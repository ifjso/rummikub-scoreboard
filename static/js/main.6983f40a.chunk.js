(this["webpackJsonprummikub-scoreboard"]=this["webpackJsonprummikub-scoreboard"]||[]).push([[0],{156:function(n,e,t){n.exports=t(329)},161:function(n,e,t){},328:function(n,e,t){},329:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),i=t(121),c=t.n(i),o=t(26),u=(t(161),t(27)),s=t(35),l=t(332),f=t(333),m=Object(u.e)((function(n){var e=n.location.pathname,t=Object(r.useState)(e),i=Object(s.a)(t,2),c=i[0],u=i[1],m=Object(r.useCallback)((function(n,e){var t=e.to;return u(t)}),[]);return a.a.createElement(l.a,{fixed:"top",size:"massive",icon:!0,borderless:!0,inverted:!0},a.a.createElement(l.a.Item,{as:o.b,to:"/",active:"/"===c,onClick:m},a.a.createElement("img",{src:"logo192.png",alt:"\ud648",style:{fontSize:"0.8rem"}})),a.a.createElement(l.a.Item,{as:o.b,to:"/histories",active:"/histories"===c,onClick:m},a.a.createElement(f.a,{name:"history"})))})),d=t(28),b=t.n(d),v=t(46),g=t(1),h=t(2),p=t(58),j=t(34);function O(){var n=Object(g.a)(["\n  padding-left: 1rem;\n  padding-right: 1rem;\n  width: 80vw;\n  margin: 0 auto;\n  display: flex;\n"]);return O=function(){return n},n}var w=h.b.div(O()),E=function(n){var e=n.children,t=Object(j.a)(n,["children"]);return a.a.createElement(w,t,e)},k=t(136),y=t.n(k);function x(){var n=Object(g.a)(["\n      position: relative;\n      top: 0;\n      left: 0;\n      width: 100%;\n      text-align: center;\n      margin: 0;\n      transform: translateX(0) translateY(0);\n    "]);return x=function(){return n},n}function z(){var n=Object(g.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  z-index: 1000;\n  transform: translateX(-50%) translateY(-50%);\n  ","\n"]);return z=function(){return n},n}var L=Object(h.b)(y.a)(z(),(function(n){return n.inline&&Object(h.a)(x())})),C=function(n){var e=n.width,t=void 0===e?140:e,r=n.height,i=void 0===r?140:r,c=Object(j.a)(n,["width","height"]);return a.a.createElement(L,Object.assign({width:t,height:i},c))};function R(){var n=Object(g.a)(["\n  ","\n"]);return R=function(){return n},n}function P(){var n=Object(g.a)(["\n  ","\n"]);return P=function(){return n},n}function S(){var n=Object(g.a)(["\n  width: 50%;\n  border: none;\n  outline: none;\n  font-size: 10vw;\n  padding: 1.5vw;\n  line-height: 7vw;\n  background: #121212;\n  cursor: pointer;\n"]);return S=function(){return n},n}var N=Object(h.a)(S()),T=Object(h.b)(o.b)(P(),N),I=h.b.button(R(),N),B=function(n){var e=n.to,t=Object(j.a)(n,["to"]);return e?a.a.createElement(T,Object.assign({to:e},t)):a.a.createElement(I,t)};function H(){var n=Object(g.a)(["\n      color: rgba(255, 255, 255, 0.5);\n      background-color: #222;\n      background-image: linear-gradient(\n        to right,\n        rgba(34, 34, 34, 1),\n        rgba(255, 255, 255, 0.5),\n        rgba(34, 34, 34, 1)\n      );\n\n      --shimmer-size: ",";\n      background-size: var(--shimmer-size) auto;\n      background-repeat: no-repeat;\n      background-clip: text;\n      -webkit-background-clip: text;\n      animation-name: shimmer;\n      animation-duration: 1s;\n      animation-iteration-count: infinite;\n    "]);return H=function(){return n},n}function J(){var n=Object(g.a)(["\n  color: white;\n  ","\n\n  @keyframes shimmer {\n    0% {\n      background-position: calc(0% - var(--shimmer-size)) 0;\n    }\n\n    100% {\n      background-position: calc(100% + var(--shimmer-size)) 0;\n    }\n  }\n"]);return J=function(){return n},n}var M=Object(h.a)(J(),(function(n){return n.isLoading&&Object(h.a)(H(),(function(n){var e=n.shimmerSize;return"".concat(void 0===e?.3:e,"em")}))}));function W(){var n=Object(g.a)(["\n  ","\n"]);return W=function(){return n},n}var X=h.b.h1(W(),M);function Y(){var n=Object(g.a)(["\n  margin: 0 auto;\n  padding: 1vw;\n  font-size: 6vw;\n  line-height: 2em;\n"]);return Y=function(){return n},n}function A(){var n=Object(g.a)(["\n  width: 28%;\n"]);return A=function(){return n},n}function F(){var n=Object(g.a)(["\n      flex-direction: row-reverse;\n    "]);return F=function(){return n},n}function U(){var n=Object(g.a)(["\n  width: 100%;\n  display: flex;\n\n  ","\n"]);return U=function(){return n},n}function $(){var n=Object(g.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-flow: wrap;\n  padding-bottom: 5vh;\n"]);return $=function(){return n},n}function _(){var n=Object(g.a)(["\n  width: 26vw;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  color: white;\n\n  h1 {\n    margin: 0;\n    text-align: center;\n    font-size: 28vw;\n    line-height: 24vw;\n  }\n"]);return _=function(){return n},n}var q=h.b.div(_()),D=h.b.div($()),G=h.b.div(U(),(function(n){return n.isReversed&&Object(h.a)(F())})),K=h.b.div(A()),Q=h.b.span(Y()),V=function(n){var e=n.name,t=n.size,r=void 0===t?"small":t,i=n.isLoading,c=void 0!==i&&i,o=n.onClick,u=void 0===o?function(n){return n}:o;return a.a.createElement(B,{onClick:u,disabled:c},a.a.createElement(f.a,{name:e,size:r,color:"grey",disabled:c,loading:c}))},Z=function(n){var e=n.reversed,t=n.user,r=t.name,i=t.picture;return a.a.createElement(G,{reversed:e},a.a.createElement(K,{reversed:e,picture:i}),a.a.createElement(Q,null,r))},nn=a.a.memo((function(n){var e=n.user,t=n.isReversed,r=void 0!==t&&t,i=n.isLoading,c=void 0!==i&&i,o=n.onClick,u=void 0===o?function(n){return n}:o;return a.a.createElement(q,null,a.a.createElement(V,{name:"plus",isLoading:c,onClick:function(){return u(1)}}),a.a.createElement(D,null,a.a.createElement(Z,{isReversed:r,user:e}),a.a.createElement(X,{isLoading:c},e.score)),a.a.createElement(V,{name:"minus",isLoading:c,onClick:function(){return u(-1)}}))})),en=t(137),tn=t.n(en).a.create();tn.defaults.baseURL="https://rummikub-scoreboard.herokuapp.com";var rn=tn,an=function(n){return rn.get("/api/users/".concat(n))},cn=function(n){var e=n.owner,t=n.score,r=n.emojiType,a=n.memo;return rn.patch("/api/users/".concat(e),{score:t,emojiType:r,memo:a})},on=t(80),un=t.n(on),sn=["\ud83c\udf1d","\ud83c\udf89","\ud83c\udf88","\ud83c\udf61","\ud83c\udf1f"],ln=sn.concat(["\ud83c\udf2a","\ud83d\ude27","\u26c8","\ud83d\udc7b","\ud83d\udca9"]),fn=function(n){return n>0?un()(sn.length-1):un()(sn.length,ln.length-1)};function mn(){var n=Object(g.a)(["\n  padding-top: 3vw;\n  font-weight: bold;\n  color: white;\n"]);return mn=function(){return n},n}function dn(){var n=Object(g.a)(["\n  width: 86vw;\n  height: 90vw;\n  padding: 2vw;\n  align-items: center;\n  justify-content: space-between;\n  > span {\n    margin: 0;\n    font-size: 12vw;\n  }\n"]);return dn=function(){return n},n}function bn(){var n=Object(g.a)(["\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n"]);return bn=function(){return n},n}var vn=h.b.div(bn()),gn=Object(h.b)(E)(dn()),hn=h.b.span(mn()),pn=a.a.memo((function(){var n=Object(r.useRef)(!1),e=Object(r.useState)({isLoading:!0,scores:[{user:null,isLoading:!1},{user:null,isLoading:!1}]}),t=Object(s.a)(e,2),i=t[0],c=t[1];Object(r.useEffect)((function(){return function(){var e=Object(v.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([an(1),an(2)]);case 2:t=e.sent,n.current||c(Object(p.a)((function(n){n.isLoading=!1,n.scores[0].user=t[0].data,n.scores[1].user=t[1].data})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){n.current=!0}}),[]);var o=Object(r.useCallback)((function(e,t){return function(){var r=Object(v.a)(b.a.mark((function r(a){var i,o;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c(Object(p.a)((function(n){n.scores[e].isLoading=!0}))),r.next=3,cn({owner:t.owner,score:t.score+a,emojiType:fn(a)});case 3:i=r.sent,o=i.data,n.current||c(Object(p.a)((function(n){n.scores[e].isLoading=!1,n.scores[e].user=o})));case 6:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}()}),[]);return i.isLoading?a.a.createElement(C,{type:"Hearts",color:"#bf0303"}):a.a.createElement(vn,null,a.a.createElement(gn,null,a.a.createElement(nn,{user:i.scores[0].user,isReversed:!1,isLoading:i.scores[0].isLoading,onClick:o(0,i.scores[0].user)}),a.a.createElement(hn,null,":"),a.a.createElement(nn,{user:i.scores[1].user,isReversed:!0,isLoading:i.scores[1].isLoading,onClick:o(1,i.scores[1].user)})))})),jn=function(){return a.a.createElement(pn,null)},On=function(){return a.a.createElement(jn,null)},wn=t(143),En=t(138),kn=t.n(En),yn=t(139),xn=t.n(yn),zn=function(n){var e=n.page,t=n.perPage,r=xn.a.stringify({page:e,perPage:t});return rn.get("/api/histories?".concat(r))},Ln=t(140),Cn=t.n(Ln),Rn=t(141),Pn=t.n(Rn),Sn=t(142);function Nn(){var n=Object(g.a)(["\n  display: flex;\n  align-items: flex-end;\n  flex: 3;\n  flex-flow: column;\n  color: grey;\n"]);return Nn=function(){return n},n}function Tn(){var n=Object(g.a)(["\n  display: flex;\n  justify-content: center;\n  flex: 1;\n"]);return Tn=function(){return n},n}function In(){var n=Object(g.a)(["\n  flex: 1;\n  line-height: 1.5em;\n  font-size: ",";\n  font-weight: ",";\n  color: ",";\n"]);return In=function(){return n},n}function Bn(){var n=Object(g.a)(["\n  display: flex;\n  align-items: center;\n"]);return Bn=function(){return n},n}function Hn(){var n=Object(g.a)(["\n  color: grey;\n"]);return Hn=function(){return n},n}function Jn(){var n=Object(g.a)(["\n  margin-bottom: 2vh;\n  font-size: 1.1em;\n"]);return Jn=function(){return n},n}var Mn=t.n(Sn)()(Pn.a),Wn=h.b.div(Jn()),Xn=h.b.div(Hn()),Yn=h.b.div(Bn()),An=h.b.span(In(),(function(n){var e=n.size;return"".concat(void 0===e?1:e,"em")}),(function(n){return n.bold?"bold":"normal"}),(function(n){var e=n.color;return e?" ".concat(e):""})),Fn=Object(h.b)(An)(Tn()),Un=h.b.div(Nn()),$n=a.a.memo((function(n){var e,t=n.history;return a.a.createElement(Wn,{value:t.value},a.a.createElement(Xn,null,a.a.createElement(An,{size:"1.3",bold:!0},t.name)),a.a.createElement(Yn,null,a.a.createElement(An,{size:"3.5",bold:!0,color:t.value>0?"#5aff5d":"#ff3834"},t.value>0?"+".concat(t.value):t.value),a.a.createElement(Fn,{role:"img","aria-label":"",size:"2.8"},(e=t.emojiType,ln[e])),a.a.createElement(Un,null,a.a.createElement(An,{size:"0.85",bold:!0},t.memo),a.a.createElement(An,{size:"0.85"},a.a.createElement(Cn.a,{date:t.createdAt,formatter:Mn})))))}));function _n(){var n=Object(g.a)(["\n  width: 100vw;\n"]);return _n=function(){return n},n}function qn(){var n=Object(g.a)(["\n  width: 100vw;\n  padding: 5rem 2rem;\n"]);return qn=function(){return n},n}var Dn=Object(h.b)(E)(qn()),Gn=Object(h.b)(kn.a)(_n()),Kn=a.a.memo((function(){var n=Object(r.useState)({histories:[],hasNextPage:!0,isLoading:!0}),e=Object(s.a)(n,2),t=e[0],i=e[1],c=t.histories,o=t.hasNextPage,u=Object(r.useRef)(!1),l=Object(r.useCallback)(function(){var n=Object(v.a)(b.a.mark((function n(e){var t,r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,zn({page:e});case 2:t=n.sent,r=t.data,u.current||i((function(n){return Object(wn.a)({},n,{histories:n.histories.concat(r.histories),hasNextPage:r.hasNextPage,isLoading:!1})}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[]);Object(r.useEffect)((function(){return l(1),function(){u.current=!0}}),[l]);var f=a.a.createElement(C,{key:"1",type:"Oval",color:"white",width:25,height:25,inline:!0});return t.isLoading?a.a.createElement(C,{type:"Hearts",color:"#bf0303"}):a.a.createElement(Dn,null,a.a.createElement(Gn,{pageStart:1,loadMore:l,hasMore:o,loader:f},c.map((function(n){return a.a.createElement($n,{key:n._id,history:n})}))))})),Qn=function(){return a.a.createElement(Kn,null)},Vn=function(){return a.a.createElement(Qn,null)},Zn=(t(328),function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(m,null),a.a.createElement(u.a,{component:On,path:"/",exact:!0}),a.a.createElement(u.a,{component:Vn,path:"/histories"}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(a.a.createElement(o.a,{basename:"/rummikub-scoreboard"},a.a.createElement(Zn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))}},[[156,1,2]]]);
//# sourceMappingURL=main.6983f40a.chunk.js.map