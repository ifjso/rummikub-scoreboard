(this["webpackJsonprummikub-scoreboard"]=this["webpackJsonprummikub-scoreboard"]||[]).push([[0],{270:function(e,n,t){e.exports=t(478)},275:function(e,n,t){},477:function(e,n,t){},478:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),i=t(60),o=t.n(i),c=t(48),u=(t(275),t(53)),s=t(49),l=t(491),f=t(61),m=Object(u.e)((function(e){var n=e.location.pathname,t=Object(r.useState)(n),i=Object(s.a)(t,2),o=i[0],u=i[1],m=Object(r.useCallback)((function(e,n){var t=n.to;return u(t)}),[]);return a.a.createElement(l.a,{fixed:"top",size:"massive",icon:!0,borderless:!0,inverted:!0},a.a.createElement(l.a.Item,{as:c.b,to:"/",active:"/"===o,onClick:m},a.a.createElement("img",{src:"logo192.png",alt:"\ud648",style:{fontSize:"0.8rem"}})),a.a.createElement(l.a.Item,{as:c.b,to:"/histories",active:"/histories"===o,onClick:m},a.a.createElement(f.a,{name:"history"})))})),d=t(35),b=t.n(d),v=t(73),g=t(15),h=t(16),p=t(75),j=t(71);function O(){var e=Object(g.a)(["\n  padding-left: 1rem;\n  padding-right: 1rem;\n  width: 80vw;\n  margin: 0 auto;\n  display: flex;\n"]);return O=function(){return e},e}var w=h.b.div(O()),E=function(e){var n=e.children,t=Object(j.a)(e,["children"]);return a.a.createElement(w,t,n)},k=t(234),x=t.n(k);function y(){var e=Object(g.a)(["\n      position: relative;\n      top: 0;\n      left: 0;\n      width: 100%;\n      text-align: center;\n      margin: 0;\n      transform: translateX(0) translateY(0);\n    "]);return y=function(){return e},e}function z(){var e=Object(g.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  z-index: 1000;\n  transform: translateX(-50%) translateY(-50%);\n  ","\n"]);return z=function(){return e},e}var C=Object(h.b)(x.a)(z(),(function(e){return e.inline&&Object(h.a)(y())})),L=function(e){var n=e.width,t=void 0===n?140:n,r=e.height,i=void 0===r?140:r,o=Object(j.a)(e,["width","height"]);return a.a.createElement(C,Object.assign({width:t,height:i},o))},R=t(489),I=t(492),S=function(e){var n=e.open,t=void 0===n||n,r=e.title,i=void 0===r?"":r,o=e.onMount,c=void 0===o?function(e){return e}:o,u=e.onClose,s=void 0===u?function(e){return e}:u,l=e.children;return a.a.createElement(R.a,{size:"fullscreen",open:t,onMount:c,onClose:s},a.a.createElement(R.a.Content,null,a.a.createElement(R.a.Description,null,a.a.createElement(I.a,null,i),l)))},P=t(114),M=t(488),N=t(487),T=a.a.forwardRef((function(e,n){var t=e.onSubmit,i=void 0===t?function(e){return e}:t,o=Object(r.useState)({memo:"",error:!1}),c=Object(s.a)(o,2),u=c[0],l=c[1],f=Object(r.useCallback)((function(e){return l({memo:e.target.value.trim(),error:!1})}),[]),m=Object(r.useCallback)((function(e){e?i(e):l((function(e){return Object(P.a)({},e,{error:!0})}))}),[i]);return a.a.createElement(M.a,{error:u.error,onSubmit:function(){return m(u.memo)}},a.a.createElement(M.a.Field,{error:u.error},a.a.createElement(N.a,{ref:n,size:"huge",fluid:!0,action:{color:u.error?"google plus":"blue",icon:"write",size:"huge"},onChange:f,maxLength:20})))})),B=a.a.memo(T);function F(){var e=Object(g.a)(["\n  ","\n"]);return F=function(){return e},e}function H(){var e=Object(g.a)(["\n  ","\n"]);return H=function(){return e},e}function J(){var e=Object(g.a)(["\n  width: 50%;\n  border: none;\n  outline: none;\n  font-size: 10vw;\n  padding: 1.5vw;\n  line-height: 7vw;\n  background: #121212;\n  cursor: pointer;\n"]);return J=function(){return e},e}var W=Object(h.a)(J()),X=Object(h.b)(c.b)(H(),W),Y=h.b.button(F(),W),A=function(e){var n=e.to,t=Object(j.a)(e,["to"]);return n?a.a.createElement(X,Object.assign({to:n},t)):a.a.createElement(Y,t)};function D(){var e=Object(g.a)(["\n      color: rgba(255, 255, 255, 0.5);\n      background-color: #222;\n      background-image: linear-gradient(\n        to right,\n        rgba(34, 34, 34, 1),\n        rgba(255, 255, 255, 0.5),\n        rgba(34, 34, 34, 1)\n      );\n\n      --shimmer-size: ",";\n      background-size: var(--shimmer-size) 100%;\n      -webkit-background-size: var(--shimmer-size) 100%;\n      background-repeat: no-repeat;\n      background-clip: text;\n      -webkit-background-clip: text;\n      animation-name: shimmer;\n      animation-duration: 1s;\n      animation-iteration-count: infinite;\n    "]);return D=function(){return e},e}function U(){var e=Object(g.a)(["\n  color: white;\n  ","\n\n  @keyframes shimmer {\n    0% {\n      background-position: calc(0% - var(--shimmer-size)) 0;\n    }\n\n    100% {\n      background-position: calc(100% + var(--shimmer-size)) 0;\n    }\n  }\n"]);return U=function(){return e},e}var $=Object(h.a)(U(),(function(e){return e.isLoading&&Object(h.a)(D(),(function(e){var n=e.shimmerSize;return"".concat(void 0===n?.3:n,"em")}))}));function _(){var e=Object(g.a)(["\n  ","\n"]);return _=function(){return e},e}var q=h.b.h1(_(),$);function G(){var e=Object(g.a)(["\n  margin: 0 auto;\n  padding: 1vw;\n  font-size: 6vw;\n  line-height: 2em;\n"]);return G=function(){return e},e}function K(){var e=Object(g.a)(["\n  width: 28%;\n"]);return K=function(){return e},e}function Q(){var e=Object(g.a)(["\n      flex-direction: row-reverse;\n    "]);return Q=function(){return e},e}function V(){var e=Object(g.a)(["\n  width: 100%;\n  display: flex;\n\n  ","\n"]);return V=function(){return e},e}function Z(){var e=Object(g.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-flow: wrap;\n  padding-bottom: 5vh;\n"]);return Z=function(){return e},e}function ee(){var e=Object(g.a)(["\n  width: 26vw;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  color: white;\n\n  h1 {\n    margin: 0;\n    text-align: center;\n    font-size: 28vw;\n    line-height: 24vw;\n  }\n"]);return ee=function(){return e},e}var ne=h.b.div(ee()),te=h.b.div(Z()),re=h.b.div(V(),(function(e){return e.isReversed&&Object(h.a)(Q())})),ae=h.b.div(K()),ie=h.b.span(G()),oe=function(e){var n=e.name,t=e.size,r=void 0===t?"small":t,i=e.isLoading,o=void 0!==i&&i,c=e.onClick,u=void 0===c?function(e){return e}:c;return a.a.createElement(A,{onClick:u,disabled:o},a.a.createElement(f.a,{name:n,size:r,color:"grey",disabled:o,loading:o}))},ce=function(e){var n=e.isReversed,t=e.user,r=t.name,i=t.picture;return a.a.createElement(re,{isReversed:n},a.a.createElement(ae,{isReversed:n,picture:i}),a.a.createElement(ie,null,r))},ue=a.a.memo((function(e){var n=e.index,t=e.user,r=e.isReversed,i=void 0!==r&&r,o=e.isLoading,c=void 0!==o&&o,u=e.onClick,s=void 0===u?function(e){return e}:u;return a.a.createElement(ne,null,a.a.createElement(oe,{name:"plus",isLoading:c,onClick:function(){return s(n,1)}}),a.a.createElement(te,null,a.a.createElement(ce,{isReversed:i,user:t}),a.a.createElement(q,{isLoading:c},t.score)),a.a.createElement(oe,{name:"minus",isLoading:c,onClick:function(){return s(n,-1)}}))})),se=t(252),le=t.n(se).a.create();le.defaults.baseURL="https://rummikub-scoreboard.herokuapp.com";var fe=le,me=function(e){return fe.get("/api/users/".concat(e))},de=function(e){var n=e.owner,t=e.score,r=e.emojiType,a=e.memo;return fe.patch("/api/users/".concat(n),{score:t,emojiType:r,memo:a})},be=t(155),ve=t.n(be),ge=["\ud83c\udf1d","\ud83c\udf89","\ud83c\udf88","\ud83c\udf61","\ud83c\udf1f"],he=ge.concat(["\ud83c\udf2a","\ud83d\ude27","\u26c8","\ud83d\udc7b","\ud83d\udca9"]),pe=function(e){return e>0?ve()(ge.length-1):ve()(ge.length,he.length-1)};function je(){var e=Object(g.a)(["\n  padding-top: 3vw;\n  font-weight: bold;\n  color: white;\n"]);return je=function(){return e},e}function Oe(){var e=Object(g.a)(["\n  width: 86vw;\n  height: 90vw;\n  padding: 2vw;\n  align-items: center;\n  justify-content: space-between;\n  > span {\n    margin: 0;\n    font-size: 12vw;\n  }\n"]);return Oe=function(){return e},e}function we(){var e=Object(g.a)(["\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n"]);return we=function(){return e},e}var Ee=h.b.div(we()),ke=Object(h.b)(E)(Oe()),xe=h.b.span(je()),ye=a.a.memo((function(){var e=Object(r.useRef)(!1),n=Object(r.useRef)(null),t=Object(r.useState)({isLoading:!0,form:{selectedIndex:0,value:0,isInputting:!1},scores:[{user:null,isLoading:!1},{user:null,isLoading:!1}]}),i=Object(s.a)(t,2),o=i[0],c=i[1];Object(r.useEffect)((function(){return function(){var n=Object(v.a)(b.a.mark((function n(){var t;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([me(1),me(2)]);case 2:t=n.sent,e.current||c(Object(p.a)((function(e){e.isLoading=!1,e.scores[0].user=t[0].data,e.scores[1].user=t[1].data})));case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()(),function(){e.current=!0}}),[]);var u=Object(r.useCallback)(function(){var e=Object(v.a)(b.a.mark((function e(n,t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c(Object(p.a)((function(e){e.form.selectedIndex=n,e.form.value=t,e.form.isInputting=!0})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),[]),l=Object(r.useCallback)(function(){var n=Object(v.a)(b.a.mark((function n(t){var r,a,i,u,s,l;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=o.form,a=r.selectedIndex,i=r.value,u=o.scores[a].user,c(Object(p.a)((function(e){e.scores[a].isLoading=!0,e.form.isInputting=!1}))),n.next=5,de({owner:u.owner,score:u.score+i,emojiType:pe(i),memo:t});case 5:s=n.sent,l=s.data,e.current||c(Object(p.a)((function(e){e.scores[a].user=l,e.scores[a].isLoading=!1})));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[o.form,o.scores]),f=Object(r.useCallback)((function(){return n.current.focus()}),[]),m=Object(r.useCallback)((function(){return c(Object(p.a)((function(e){e.form.isInputting=!1})))}),[]);return o.isLoading?a.a.createElement(L,{type:"Hearts",color:"#bf0303"}):a.a.createElement(Ee,null,a.a.createElement(ke,null,a.a.createElement(ue,{index:0,user:o.scores[0].user,isReversed:!1,isLoading:o.scores[0].isLoading,onClick:u}),a.a.createElement(xe,null,":"),a.a.createElement(ue,{index:1,user:o.scores[1].user,isReversed:!0,isLoading:o.scores[1].isLoading,onClick:u})),a.a.createElement(S,{open:o.form.isInputting,title:"\ubb34\uc2a8 \uc77c\uc774 \uc788\uc5c8\ub294\uc9c0 \uae30\ub85d\ud574 \ubcf4\uc544\uc694.",onMount:f,onClose:m},a.a.createElement(B,{ref:n,onSubmit:l})))})),ze=function(){return a.a.createElement(ye,null)},Ce=function(){return a.a.createElement(ze,null)},Le=t(253),Re=t.n(Le),Ie=t(254),Se=t.n(Ie),Pe=function(e){var n=e.page,t=e.perPage,r=Se.a.stringify({page:n,perPage:t});return fe.get("/api/histories?".concat(r))},Me=t(255),Ne=t.n(Me),Te=t(256),Be=t.n(Te),Fe=t(257);function He(){var e=Object(g.a)(["\n  display: flex;\n  align-items: flex-end;\n  flex: 3;\n  flex-flow: column;\n  color: grey;\n"]);return He=function(){return e},e}function Je(){var e=Object(g.a)(["\n  display: flex;\n  justify-content: center;\n  flex: 1;\n"]);return Je=function(){return e},e}function We(){var e=Object(g.a)(["\n  flex: 1;\n  line-height: 1.5em;\n  font-size: ",";\n  font-weight: ",";\n  color: ",";\n"]);return We=function(){return e},e}function Xe(){var e=Object(g.a)(["\n  display: flex;\n  align-items: center;\n"]);return Xe=function(){return e},e}function Ye(){var e=Object(g.a)(["\n  color: grey;\n"]);return Ye=function(){return e},e}function Ae(){var e=Object(g.a)(["\n  margin-bottom: 2vh;\n  font-size: 1.1em;\n"]);return Ae=function(){return e},e}var De=t.n(Fe)()(Be.a),Ue=h.b.div(Ae()),$e=h.b.div(Ye()),_e=h.b.div(Xe()),qe=h.b.span(We(),(function(e){var n=e.size;return"".concat(void 0===n?1:n,"em")}),(function(e){return e.bold?"bold":"normal"}),(function(e){var n=e.color;return n?" ".concat(n):""})),Ge=Object(h.b)(qe)(Je()),Ke=h.b.div(He()),Qe=a.a.memo((function(e){var n,t=e.history;return a.a.createElement(Ue,{value:t.value},a.a.createElement($e,null,a.a.createElement(qe,{size:"1.3",bold:!0},t.name)),a.a.createElement(_e,null,a.a.createElement(qe,{size:"3.5",bold:!0,color:t.value>0?"#5aff5d":"#ff3834"},t.value>0?"+".concat(t.value):t.value),a.a.createElement(Ge,{role:"img","aria-label":"",size:"2.8"},(n=t.emojiType,he[n])),a.a.createElement(Ke,null,a.a.createElement(qe,{size:"0.85",bold:!0},t.memo),a.a.createElement(qe,{size:"0.85"},a.a.createElement(Ne.a,{date:t.createdAt,formatter:De})))))}));function Ve(){var e=Object(g.a)(["\n  width: 100vw;\n"]);return Ve=function(){return e},e}function Ze(){var e=Object(g.a)(["\n  width: 100vw;\n  padding: 5rem 2rem;\n"]);return Ze=function(){return e},e}var en=Object(h.b)(E)(Ze()),nn=Object(h.b)(Re.a)(Ve()),tn=a.a.memo((function(){var e=Object(r.useState)({histories:[],hasNextPage:!0,isLoading:!0}),n=Object(s.a)(e,2),t=n[0],i=n[1],o=t.histories,c=t.hasNextPage,u=Object(r.useRef)(!1),l=Object(r.useCallback)(function(){var e=Object(v.a)(b.a.mark((function e(n){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe({page:n});case 2:t=e.sent,r=t.data,u.current||i((function(e){return Object(P.a)({},e,{histories:e.histories.concat(r.histories),hasNextPage:r.hasNextPage,isLoading:!1})}));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[]);Object(r.useEffect)((function(){return l(1),function(){u.current=!0}}),[l]);var f=a.a.createElement(L,{key:"1",type:"Oval",color:"white",width:25,height:25,inline:!0});return t.isLoading?a.a.createElement(L,{type:"Hearts",color:"#bf0303"}):a.a.createElement(en,null,a.a.createElement(nn,{pageStart:1,loadMore:l,hasMore:c,loader:f},o.map((function(e){return a.a.createElement(Qe,{key:e._id,history:e})}))))})),rn=function(){return a.a.createElement(tn,null)},an=function(){return a.a.createElement(rn,null)},on=(t(477),function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(m,null),a.a.createElement(u.a,{component:Ce,path:"/",exact:!0}),a.a.createElement(u.a,{component:an,path:"/histories"}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(c.a,{basename:"/rummikub-scoreboard"},a.a.createElement(on,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[270,1,2]]]);
//# sourceMappingURL=main.781e486f.chunk.js.map