(this["webpackJsonprummikub-scoreboard"]=this["webpackJsonprummikub-scoreboard"]||[]).push([[0],{150:function(e,n,t){e.exports=t(302)},155:function(e,n,t){},301:function(e,n,t){},302:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(119),i=t.n(c),o=t(26),u=(t(155),t(28)),l=t(27),s=t(306),f=t(307),m=Object(u.e)((function(e){var n=e.location.pathname,t=Object(r.useState)(n),c=Object(l.a)(t,2),i=c[0],u=c[1],m=Object(r.useCallback)((function(e,n){var t=n.to;return u(t)}),[]);return a.a.createElement(s.a,{fixed:"top",size:"massive",icon:!0,borderless:!0,inverted:!0},a.a.createElement(s.a.Item,{as:o.b,to:"/",active:"/"===i,onClick:m},a.a.createElement("img",{src:"logo192.png",alt:"\ud648",style:{fontSize:"0.8rem"}})),a.a.createElement(s.a.Item,{as:o.b,to:"/histories",active:"/histories"===i,onClick:m},a.a.createElement(f.a,{name:"history"})))})),v=t(1),b=t(2),d=t(57);function p(){var e=Object(v.a)(["\n  padding-left: 1rem;\n  padding-right: 1rem;\n  width: 80vw;\n  margin: 0 auto;\n  display: flex;\n"]);return p=function(){return e},e}var h=b.b.div(p()),w=function(e){var n=e.children,t=Object(d.a)(e,["children"]);return a.a.createElement(h,t,n)},g=t(29),j=t.n(g),O=t(45);function E(){var e=Object(v.a)(["\n  ","\n"]);return E=function(){return e},e}function k(){var e=Object(v.a)(["\n  ","\n"]);return k=function(){return e},e}function x(){var e=Object(v.a)(["\n  width: 50%;\n  border: none;\n  outline: none;\n  font-size: 10vw;\n  padding: 1.5vw;\n  line-height: 7vw;\n  cursor: pointer;\n\n  background: white;\n  &:hover {\n    background: #f1f1f1;\n  }\n  &:active {\n    background: #cccccc;\n    color: #555555;\n  }\n"]);return x=function(){return e},e}var y=Object(b.a)(x()),z=Object(b.b)(o.b)(k(),y),S=b.b.button(E(),y),C=function(e){var n=e.to,t=Object(d.a)(e,["to"]);return n?a.a.createElement(z,Object.assign({to:n},t)):a.a.createElement(S,t)},M=t(134),Y=t.n(M).a.create();Y.defaults.baseURL="https://rummikub-scoreboard.herokuapp.com";var I=Y,P=function(e){return I.get("/api/scores/".concat(e))},B=function(e){var n=e.owner,t=e.score;return I.patch("/api/scores/".concat(n),{score:t})};function D(){var e=Object(v.a)(["\n  margin: 0 auto;\n  padding: 1vw;\n  font-size: 6vw;\n  line-height: 1em;\n"]);return D=function(){return e},e}function H(){var e=Object(v.a)(["\n  width: 28%;\n"]);return H=function(){return e},e}function J(){var e=Object(v.a)(["\n      flex-direction: row-reverse;\n    "]);return J=function(){return e},e}function R(){var e=Object(v.a)(["\n  width: 100%;\n  height: 24%;\n  display: flex;\n\n  ","\n"]);return R=function(){return e},e}function W(){var e=Object(v.a)(["\n  width: 34vw;\n  height: 36vw;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  flex-flow: row wrap;\n\n  h1 {\n    margin: 0;\n    height: 50%;\n    width: 100%;\n    text-align: center;\n    font-size: 18vw;\n    line-height: 19vw;\n  }\n"]);return W=function(){return e},e}var A=b.b.div(W()),F=b.b.div(R(),(function(e){return e.reversed&&Object(b.a)(J())})),L=b.b.div(H()),N=b.b.span(D()),U=function(e){var n=e.reversed,t=e.user,r=t.name,c=t.picture;return a.a.createElement(F,{reversed:n},a.a.createElement(L,{reversed:n,picture:c}),a.a.createElement(N,null,r))},$=function(e){var n=e.reversed,t=void 0!==n&&n,c=e.owner,i=Object(r.useState)(0),o=Object(l.a)(i,2),u=o[0],s=o[1],f=Object(r.useState)({}),m=Object(l.a)(f,2),v=m[0],b=m[1],d=Object(r.useRef)(!1);Object(r.useEffect)((function(){return function(){var e=Object(O.a)(j.a.mark((function e(){var n,t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(c);case 2:n=e.sent,t=n.data,d.current||(b(t.user),s(t.score));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){d.current=!0}}),[c]);var p=Object(r.useCallback)(function(){var e=Object(O.a)(j.a.mark((function e(n){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=u+n,e.next=3,B({owner:c,score:t});case 3:d.current||s(t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[c,u]);return a.a.createElement(A,null,a.a.createElement(U,{reversed:t,user:v}),a.a.createElement("h1",null,u),a.a.createElement(C,{onClick:function(){return p(-1)}},"-"),a.a.createElement(C,{onClick:function(){return p(1)}},"+"))};function _(){var e=Object(v.a)(["\n  width: 86vw;\n  height: 40vw;\n  padding: 2vw;\n  align-items: center;\n  justify-content: space-between;\n  > span {\n    margin: 0;\n    font-size: 12vw;\n  }\n"]);return _=function(){return e},e}function q(){var e=Object(v.a)(["\n  width: 100vw;\n  height: 100vh;\n  background: white;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-wrap: wrap;\n"]);return q=function(){return e},e}var G=b.b.div(q()),K=Object(b.b)(w)(_()),Q=function(){return a.a.createElement(G,null,a.a.createElement(K,null,a.a.createElement($,{reversed:!1,owner:1}),a.a.createElement("span",null,a.a.createElement("b",null,":")),a.a.createElement($,{reversed:!0,owner:2})))},T=function(){return a.a.createElement(Q,null)},V=function(){return a.a.createElement(T,null)},X=t(135),Z=t.n(X),ee=t(305),ne=t(136),te=t.n(ne),re=t(137),ae=t.n(re),ce=function(e){var n=e.page,t=e.perPage,r=ae.a.stringify({page:n,perPage:t});return I.get("/api/histories?".concat(r))};function ie(){var e=Object(v.a)(["\n  line-height: 0.8em;\n"]);return ie=function(){return e},e}function oe(){var e=Object(v.a)(["\n      background-color: #fff6f6;\n      color: #9f3a38;\n      box-shadow: 0 0 0 2px #e0b4b4 inset, 0 0 0 0 transparent;\n    "]);return oe=function(){return e},e}function ue(){var e=Object(v.a)(["\n  margin-bottom: 2vh;\n  padding: 1.5rem;\n  font-size: 1.1em;\n  border-radius: 1rem;\n  background-color: #fcfff5;\n  color: #2c662d;\n  box-shadow: 0 0 0 2px #a3c293 inset, 0 0 0 0 transparent;\n  ","\n"]);return ue=function(){return e},e}function le(){var e=Object(v.a)(["\n  width: 100vw;\n"]);return le=function(){return e},e}function se(){var e=Object(v.a)(["\n  display: flex;\n  width: 100vw;\n  padding: 5rem 2rem;\n  align-content: center;\n  justify-content: center;\n  flex-wrap: wrap;\n"]);return se=function(){return e},e}var fe=Object(b.b)(w)(se()),me=Object(b.b)(Z.a)(le()),ve=b.b.div(ue(),(function(e){return e.value<0&&Object(b.a)(oe())})),be=b.b.p(ie()),de=function(){var e=Object(r.useState)([]),n=Object(l.a)(e,2),t=n[0],c=n[1],i=Object(r.useState)(!0),o=Object(l.a)(i,2),u=o[0],s=o[1],f=function(){var e=Object(O.a)(j.a.mark((function e(n){var r,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce({page:n});case 2:r=e.sent,a=r.data,c(t.concat(a.histories)),s(a.hasNextPage);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return a.a.createElement(fe,null,a.a.createElement(me,{pageStart:0,loadMore:f,hasMore:u,loader:a.a.createElement(ee.a,{key:"1",active:!0,inline:"centered",size:"small"})},t.map((function(e){return a.a.createElement(ve,{key:e._id,value:e.value},a.a.createElement(be,null,te()(e.createdAt).format("YYYY\ub144 MM\uc6d4 DD\uc77c HH\uc2dcmm\ubd84ss\ucd08")),a.a.createElement(be,null,e.name),a.a.createElement(be,null,e.value))}))))},pe=function(){return a.a.createElement(de,null)},he=function(){return a.a.createElement(pe,null)},we=(t(301),function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(m,null),a.a.createElement(u.a,{component:V,path:"/",exact:!0}),a.a.createElement(u.a,{component:he,path:"/histories"}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(o.a,{basename:"/rummikub-scoreboard"},a.a.createElement(we,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[150,1,2]]]);
//# sourceMappingURL=main.7ad1d564.chunk.js.map